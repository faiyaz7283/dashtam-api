# Test Environment Configuration
# This file contains test-specific environment variables

# Application Configuration
APP_NAME=Dashtam
APP_VERSION=0.1.0
ENVIRONMENT=testing
DEBUG=true
API_V1_PREFIX=/api/v1

# Server Configuration (different ports for testing)
HOST=0.0.0.0
PORT=8001
RELOAD=false

# Test Database Configuration
# Use Docker internal hostname 'postgres' not 'localhost'
DATABASE_URL=postgresql+asyncpg://dashtam_test_user:test_password@postgres:5432/dashtam_test
DB_ECHO=false

# PostgreSQL Test User Configuration
TEST_POSTGRES_DB=dashtam_test
TEST_POSTGRES_USER=dashtam_test_user
TEST_POSTGRES_PASSWORD=test_password

# Security Configuration (test keys)
SECRET_KEY=test-secret-key-for-automated-testing-only-never-use-in-production
ENCRYPTION_KEY=test-encryption-key-32-chars-long
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=30

# Password Hashing Configuration
# Use lower rounds in tests for faster execution
BCRYPT_ROUNDS=10

# Email Configuration (AWS SES) - Mocked in tests
# Email sending is mocked/disabled during testing
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=test-aws-access-key-id
AWS_SECRET_ACCESS_KEY=test-aws-secret-access-key
SES_FROM_EMAIL=test@dashtam.com
SES_FROM_NAME=Dashtam Test
EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=24
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=1

# CORS Configuration (relaxed for testing)
CORS_ORIGINS=http://localhost:3000,http://localhost:8001,http://test

# SSL/TLS Configuration (using existing certs for test environment)
SSL_CERT_FILE=certs/cert.pem
SSL_KEY_FILE=certs/key.pem

# Callback Server Configuration
CALLBACK_SERVER_HOST=0.0.0.0
CALLBACK_SERVER_PORT=8183
CALLBACK_SSL_CERT_FILE=certs/callback_cert.pem
CALLBACK_SSL_KEY_FILE=certs/callback_key.pem

# Mock Provider Configuration for Testing
SCHWAB_API_KEY=test_schwab_client_id
SCHWAB_API_SECRET=test_schwab_client_secret
SCHWAB_API_BASE_URL=http://localhost:8999/mock/schwab
SCHWAB_REDIRECT_URI=http://localhost:8183/callback

# Plaid Configuration (mocked)
PLAID_CLIENT_ID=test_plaid_client_id
PLAID_SECRET=test_plaid_secret
PLAID_ENVIRONMENT=sandbox

# Redis Configuration (if needed for tests)
# Use Docker internal hostname 'redis' not 'localhost'
REDIS_URL=redis://redis:6379/1

# Test-specific flags
TESTING=true
DISABLE_EXTERNAL_CALLS=true
MOCK_PROVIDERS=true
FAST_ENCRYPTION=true