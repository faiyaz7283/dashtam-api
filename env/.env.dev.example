# Database Configuration
POSTGRES_DB=dashtam
POSTGRES_USER=dashtam_user
POSTGRES_PASSWORD=secure_password_change_me
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://dashtam_user:secure_password_change_me@postgres:5432/dashtam

# Redis Configuration
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# Cache Configuration (TTLs in seconds)
CACHE_KEY_PREFIX=dashtam
CACHE_USER_TTL=300          # User data cache: 5 minutes
CACHE_PROVIDER_TTL=300      # Provider connection cache: 5 minutes
CACHE_SCHWAB_TTL=300        # Schwab API response cache: 5 minutes
CACHE_ACCOUNTS_TTL=300      # Account list cache: 5 minutes
CACHE_SECURITY_TTL=60       # Security config cache: 1 minute

# Application Configuration
APP_NAME=Dashtam
ENVIRONMENT=development
DEBUG=true
HOST=0.0.0.0
PORT=8000
RELOAD=true
LOG_LEVEL=DEBUG

# Security Configuration
SECRET_KEY=your-secret-key-will-be-generated-by-make-keys
ENCRYPTION_KEY=your-encryption-key-will-be-generated-by-make-keys
ALGORITHM=HS256
# Access token: 15 minutes (recommended security policy)
# Refresh token: 30 days (long-lived, rotated on use)
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30

# Password Hashing Configuration
# Bcrypt rounds: 10-14 recommended (higher = slower but more secure)
# 12 rounds = ~300ms hashing time (good balance)
BCRYPT_ROUNDS=12

# Email Configuration (AWS SES)
# Required for user email verification and password reset flows
AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key-id
# AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
SES_FROM_EMAIL=noreply@dashtam.com
SES_FROM_NAME=Dashtam
EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=24
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=1

# API Configuration
API_V1_PREFIX=/api/v1
API_BASE_URL=https://dashtam.local
CALLBACK_BASE_URL=https://127.0.0.1:8182
VERIFICATION_URL_BASE=https://dashtam.local

# CORS Configuration
CORS_ORIGINS=https://dashtam.local,https://localhost:3000

# SSL/TLS Configuration (handled by Traefik)
# Traefik terminates SSL, app containers use HTTP internally
# Keep callback server certs for local OAuth development
API_CALLBACK_SSL_CERT_FILE=certs/callback_cert.pem
API_CALLBACK_SSL_KEY_FILE=certs/callback_key.pem

# Callback Server Configuration
CALLBACK_SERVER_HOST=0.0.0.0
CALLBACK_SERVER_PORT=8182

# Database Query Logging
DB_ECHO=false

# Schwab OAuth Configuration
# Get these from https://developer.schwab.com/
# SCHWAB_API_KEY=your_client_id_here
# SCHWAB_API_SECRET=your_client_secret_here
SCHWAB_API_BASE_URL=https://api.schwabapi.com
SCHWAB_REDIRECT_URI=https://127.0.0.1:8182

# Chase Configuration (Future)
# CHASE_API_KEY=your_chase_api_key
# CHASE_API_SECRET=your_chase_api_secret
# CHASE_REDIRECT_URI=https://127.0.0.1:8182

# Geolocation
GEOLITE2_DB_PATH=/app/data/geolite2/GeoLite2-City.mmdb
